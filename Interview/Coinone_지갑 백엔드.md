# 1. 본인이 거래소 입출금 시스템을 설계한다면 구조를 간단하게 10분 이내로 설명해주세요.

비트코인으로 예를 들면 

1. 구매자는 원화를 입금하여 비트코인을 구매
   
   - 입금주소 생성 -> 주소를 db에 저장하는데 암호화해서 -> 거래소 프라이빗 키 관리 
   
   - 사용자가 거래 시에 거래소 서버에 접속해 거래 체결
   
   - 거래가 체결되면 서버에 해당 이력을 저장
   
   - 이떄 거래소 BTC 지갑에는 변화가 없음, DB로 거래내역관리
   
   - 사용자가 출금을 하게되면 거래소 BTC 지갑에서 거래소 사용자 개인 BTC 지갑으로 코인을 전송
   
   - 거래소 서버에 변경된 내용을 기록
   
   - 개인 BTC 지갑에서 개인 지갑으로 코인이 전송됨.
   
   일반 개인 주소 -> 거래소 개인 주소 -> 거래소 컨트랙 -> 거래소 소유 주소

지갑 만들어질때 가상 계좌 사용. 

지갑 만들어지는 과정부터 노드 따라가서 뭐 db에 저장하고 그런거

# 2. 본인이 거래소 입출금 키 관리 설계를 한다면 프로세스를 간단하게 10분 이내로 설명해주세요.

- 거래소 서버에 전자지갑 생성 요청 -> 전자지갑을 생성(공개키, 비밀키) -> 거래소 DB에 개인키 분산 보관 
  
  - 저장하는 방법
    
    - 암호키 생성
    
    - 4S(Shamir's Secret Sharing Scheme)를 이용하는 것, 하나의 암호키를 여러개의 부분키로 나눌 수 있으며, 원래의 암호키를 재구성하기 위해 필요한 부분키의 개수를 지정할 수도 있음. 암호키를 부분키로 나누기
    
    - DKG(Deterministic key generation)를 이용하여 부분키를 넘겨줄 상대와의 공용비밀키를 임시로 생성하고, 안전하게 부분키를 전달
    
    - 암호키 삭제
    
    - 비밀키는 평범한 String이나 buffer를 쓰기보다, 특별한 타입을 선언해서 써야 합니다. 실수로 serialize되거나 ToString 같은 함수로 내부 정보가 출력되지 않게 만들어야 합니다. 직접 serialize를 하지 않더라도, 프로그램이 예상치 못하게 종료될 때 콜스택에 있는 값들을 출력해줄 때가 있습니다. 자신이 사용하는 언어가 언제 값을 출력하고, 어떻게 해야 그것을 막을 수 있는지 알아야 합니다.

이렇게 오프체인에서 하는게 효율적일 것 같다.

- 스마트 컨트랙으로 관리를 한다면 가스비가 많이 발생할 것임.

- 멀티시그를 통해 사용자와 거래소 운영자 n명 모두 인증을 해야지 트젝이 완료 되게끔함.
  
  homomorphic 동형암호를 사용해서

# 3. 거래소 내에서 운영하는 이더리움 수수료를 줄이기 위한 방안은 어떤 것이 있을까요?

- 

- 거래소자체 rollup layer 2를 만들어서 거래소 활동을 독자적으로 한다

- 가스 트랙커를 사용하여 쌀때마다 대량으로 전송함.

플립퍼들이 좋아함.

스테이블 코인의 사용처가 불분명함.

프리민팅되는 코인. -> 법율적인 문제 발생.

엔티티(싱가폴 법인) > legal entity를 만드는게 안전하지.

사프트 simple agreemint for futre token, 샤프트를 이용(vc나 개인투자자)

파나마
